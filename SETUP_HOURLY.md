# Настройка автоматического запуска каждый час

## Вариант 1: Автоматический запуск в контейнере (Рекомендуется)

Система настроена для автоматического запуска каждый час внутри контейнера.

### Запуск:
```bash
docker compose up --build
```

### Как это работает:
- Контейнер запускается и работает постоянно
- Каждый час автоматически выполняется `python main.py`
- Логи сохраняются в папку `logs/`
- База данных сохраняется в папку `data/`

## Вариант 2: Системный cron (Альтернатива)

### 1. Сделайте скрипт исполняемым:
```bash
chmod +x start_hourly.sh
```

### 2. Откройте crontab:
```bash
crontab -e
```

### 3. Добавьте строку для запуска каждый час:
```
0 * * * * /home/denis/horien-purchase-agent/start_hourly.sh
```

### 4. Проверьте, что cron работает:
```bash
crontab -l
```

## Мониторинг

### Просмотр логов:
```bash
# Логи контейнера
docker compose logs -f

# Логи cron (если используется Вариант 2)
tail -f logs/hourly.log
```

### Проверка работы:
```bash
# Проверка статуса контейнера
docker compose ps

# Проверка базы данных
ls -la data/
```

## Преимущества Варианта 1:
- ✅ Простота настройки
- ✅ Автоматический перезапуск при сбоях
- ✅ Изоляция в контейнере
- ✅ Сохранение данных между запусками
- ✅ Логирование в реальном времени

## Преимущества Варианта 2:
- ✅ Более гибкое управление расписанием
- ✅ Возможность настройки сложных расписаний
- ✅ Интеграция с системным планировщиком 